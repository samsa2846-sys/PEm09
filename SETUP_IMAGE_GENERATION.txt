╔══════════════════════════════════════════════════════════════╗
║     УСТАНОВКА ГЕНЕРАЦИИ ИЗОБРАЖЕНИЙ (DALL-E 3)               ║
╚══════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────┐
│ ШАГ 1: УСТАНОВИТЕ НОВЫЕ ЗАВИСИМОСТИ                          │
└──────────────────────────────────────────────────────────────┘

Выполните в терминале:

    pip install aiohttp>=3.9.0

Или обновите все зависимости:

    pip install -r requirements.txt


┌──────────────────────────────────────────────────────────────┐
│ ШАГ 2: ПРОВЕРЬТЕ API КЛЮЧ                                    │
└──────────────────────────────────────────────────────────────┘

Убедитесь что в файле .env есть OPENAI_API_KEY:

    OPENAI_API_KEY=sk-proj-...

Если нет - создайте ключ на: https://platform.openai.com/api-keys


┌──────────────────────────────────────────────────────────────┐
│ ШАГ 3: ПРОВЕРЬТЕ БАЛАНС OPENAI                               │
└──────────────────────────────────────────────────────────────┘

⚠️ ВАЖНО! Генерация изображений стоит денег:

    • Standard 1024x1024: $0.040 за изображение
    • HD 1024x1024:       $0.080 за изображение
    • HD 1792x1024:       $0.120 за изображение

Проверьте баланс: https://platform.openai.com/usage


┌──────────────────────────────────────────────────────────────┐
│ ШАГ 4: ЗАПУСТИТЕ БОТА                                        │
└──────────────────────────────────────────────────────────────┘

    python main.py

Бот должен запуститься без ошибок.


┌──────────────────────────────────────────────────────────────┐
│ ШАГ 5: ПРОТЕСТИРУЙТЕ                                         │
└──────────────────────────────────────────────────────────────┘

Отправьте боту одно из сообщений:

    ✓ Нарисуй кота в космосе
    ✓ Создай изображение заката на море
    ✓ Сгенерируй футуристический город

Или используйте команду:

    /image красное яблоко на столе


╔══════════════════════════════════════════════════════════════╗
║ ДОПОЛНИТЕЛЬНЫЕ КОМАНДЫ                                        ║
╚══════════════════════════════════════════════════════════════╝

/mode        - Показать доступные режимы (теперь с инфо о генерации)
/image       - Справка по генерации изображений
/image <...> - Прямая генерация изображения


╔══════════════════════════════════════════════════════════════╗
║ ПРИМЕРЫ ЗАПРОСОВ                                              ║
╚══════════════════════════════════════════════════════════════╝

Русский:
    • Нарисуй дракона на горе
    • Создай изображение робота
    • Сгенерируй картинку космоса
    • Покажи как выглядит замок
    • Визуализируй подводный город

English:
    • Draw a cat in space
    • Create image of sunset
    • Generate picture of robot
    • Show me what dragon looks like


╔══════════════════════════════════════════════════════════════╗
║ НАСТРОЙКИ (config.py)                                         ║
╚══════════════════════════════════════════════════════════════╝

Можно изменить параметры по умолчанию:

DALLE_DEFAULT_SIZE = "1024x1024"
    Варианты: "1024x1024", "1024x1792", "1792x1024"

DALLE_DEFAULT_QUALITY = "standard"
    Варианты: "standard", "hd"

DALLE_DEFAULT_STYLE = "vivid"
    Варианты: "vivid" (яркий), "natural" (естественный)


╔══════════════════════════════════════════════════════════════╗
║ ЧТО НОВОГО                                                    ║
╚══════════════════════════════════════════════════════════════╝

✅ Автоматическое определение намерения генерации
✅ Генерация с DALL-E 3
✅ Улучшение промптов ИИ
✅ Команда /image для прямой генерации
✅ Поддержка русского и английского
✅ Автоматическая очистка временных файлов
✅ Обработка ошибок API


╔══════════════════════════════════════════════════════════════╗
║ НОВЫЕ ФАЙЛЫ                                                   ║
╚══════════════════════════════════════════════════════════════╝

services/image_generation.py      - Основной сервис
docs/IMAGE_GENERATION.md          - Полная документация
IMAGE_GENERATION_QUICKSTART.md    - Быстрый старт
examples/image_generation_examples.py - Примеры
tests/test_image_generation.py    - Тесты
CHANGELOG_IMAGE_GENERATION.md     - Список изменений
SETUP_IMAGE_GENERATION.txt        - Этот файл


╔══════════════════════════════════════════════════════════════╗
║ ВОЗМОЖНЫЕ ПРОБЛЕМЫ                                            ║
╚══════════════════════════════════════════════════════════════╝

Ошибка: "Quota exceeded"
    → Пополните баланс на platform.openai.com

Ошибка: "Content policy violation"
    → Перефразируйте запрос (избегайте запрещенного контента)

Ошибка: "Module aiohttp not found"
    → Выполните: pip install aiohttp>=3.9.0

Изображение не такое как ожидали
    → Добавьте больше деталей в описание


╔══════════════════════════════════════════════════════════════╗
║ ДОКУМЕНТАЦИЯ                                                  ║
╚══════════════════════════════════════════════════════════════╝

📖 Быстрый старт:
    IMAGE_GENERATION_QUICKSTART.md

📚 Полная документация:
    docs/IMAGE_GENERATION.md

💻 Примеры кода:
    examples/image_generation_examples.py
    
    Запуск примеров:
    python examples/image_generation_examples.py

🧪 Тесты:
    pytest tests/test_image_generation.py


╔══════════════════════════════════════════════════════════════╗
║ ПОДДЕРЖКА                                                     ║
╚══════════════════════════════════════════════════════════════╝

Если что-то не работает:

1. Проверьте что установлены все зависимости
2. Проверьте API ключ в .env
3. Проверьте баланс на OpenAI
4. Посмотрите логи бота (bot.log)
5. Прочитайте документацию


╔══════════════════════════════════════════════════════════════╗
║ ГОТОВО! 🎉                                                    ║
╚══════════════════════════════════════════════════════════════╝

Ваш бот теперь умеет создавать изображения!

Попробуйте написать боту:
    "Нарисуй что-нибудь красивое"

Удачи! 🚀

