# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å DALL-E 3 üé®

> **–í–∞—à Telegram –±–æ—Ç —Ç–µ–ø–µ—Ä—å —É–º–µ–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è!**

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç ‚ö°

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install aiohttp>=3.9.0
```

### 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ—Ç–∞

–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ:
```
–ù–∞—Ä–∏—Å—É–π –∫–æ—Ç–∞ –≤ –∫–æ—Å–º–æ—Å–µ
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```
/image –∫—Ä–∞—Å–Ω—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å –Ω–∞ –¥–æ—Ä–æ–≥–µ
```

## –ü—Ä–∏–º–µ—Ä—ã üí°

```
üë§ –ù–∞—Ä–∏—Å—É–π –∑–∞–∫–∞—Ç –Ω–∞ –ø–ª—è–∂–µ
ü§ñ [–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫—Ä–∞—Å–∏–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ]

üë§ –°–æ–∑–¥–∞–π —Ñ—É—Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –≥–æ—Ä–æ–¥
ü§ñ [–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞]

üë§ –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –¥—Ä–∞–∫–æ–Ω–∞
ü§ñ [–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥—Ä–∞–∫–æ–Ω–∞]
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ ‚ú®

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** - –ò–ò –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- ‚úÖ **–£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤** - GPT –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ª—É—á—à–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ **DALL-E 3** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
- ‚úÖ **–†—É—Å—Å–∫–∏–π –∏ English** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–≤—É—Ö —è–∑—ã–∫–æ–≤
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –ø—Ä–æ—Å—Ç–æ –æ–ø–∏—à–∏—Ç–µ —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ

## –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ üîë

–ë–æ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç:
- **–ù–∞—Ä–∏—Å—É–π** / Draw
- **–°–æ–∑–¥–∞–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** / Create image
- **–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –∫–∞—Ä—Ç–∏–Ω–∫—É** / Generate picture
- **–ü–æ–∫–∞–∂–∏ –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç** / Show me what
- **–í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π** / Visualize

## –°—Ç–æ–∏–º–æ—Å—Ç—å üí∞

- Standard 1024√ó1024: **$0.040** –∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- HD 1024√ó1024: **$0.080** –∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ [platform.openai.com](https://platform.openai.com)

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è üìö

- üìñ [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](IMAGE_GENERATION_QUICKSTART.md) - –Ω–∞—á–Ω–∏—Ç–µ –∑–¥–µ—Å—å
- üìò [–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](docs/IMAGE_GENERATION.md) - –≤—Å–µ –¥–µ—Ç–∞–ª–∏
- üé¨ [–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è](IMAGE_GENERATION_DEMO.md) - –ø—Ä–∏–º–µ—Ä—ã –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- üìã [Changelog](CHANGELOG_IMAGE_GENERATION.md) - —á—Ç–æ –Ω–æ–≤–æ–≥–æ
- üõ†Ô∏è [–ù–∞—Å—Ç—Ä–æ–π–∫–∞](SETUP_IMAGE_GENERATION.txt) - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ üíª

```python
from services.image_generation import generate_image

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
result = await generate_image(
    prompt="A cat in space",
    size="1024x1024",
    quality="standard"
)

print(result['image_path'])
```

–ë–æ–ª—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤: [examples/image_generation_examples.py](examples/image_generation_examples.py)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ üèóÔ∏è

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    ‚Üì
handlers/text.py (–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π)
    ‚Üì
services/router.py (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è)
    ‚Üì
services/image_generation.py
    ‚îú‚îÄ‚îÄ detect_image_generation_intent() - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ generate_image() - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ DALL-E 3
    ‚îî‚îÄ‚îÄ download_image() - –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    ‚Üì
Telegram (–æ—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
```

## –§–∞–π–ª—ã üìÅ

### –ù–æ–≤—ã–µ:
- `services/image_generation.py` - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å
- `docs/IMAGE_GENERATION.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `examples/image_generation_examples.py` - –ø—Ä–∏–º–µ—Ä—ã
- `tests/test_image_generation.py` - —Ç–µ—Å—Ç—ã

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ:
- `services/router.py` - –¥–æ–±–∞–≤–ª–µ–Ω —Ä–æ—É—Ç–∏–Ω–≥
- `handlers/text.py` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ /image
- `config.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã DALL-E
- `requirements.txt` - –¥–æ–±–∞–≤–ª–µ–Ω aiohttp

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ üß™

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest tests/test_image_generation.py

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–æ–≤
python examples/image_generation_examples.py
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ‚öôÔ∏è

–í `config.py`:

```python
DALLE_DEFAULT_SIZE = "1024x1024"  # 1024x1024, 1024x1792, 1792x1024
DALLE_DEFAULT_QUALITY = "standard"  # standard, hd
DALLE_DEFAULT_STYLE = "vivid"  # vivid, natural
```

## Troubleshooting üîß

### –û—à–∏–±–∫–∞: "Quota exceeded"
‚Üí –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ platform.openai.com

### –û—à–∏–±–∫–∞: "Content policy violation"
‚Üí –ü–µ—Ä–µ—Ñ—Ä–∞–∑–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å (–∏–∑–±–µ–≥–∞–π—Ç–µ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞)

### –û—à–∏–±–∫–∞: "Module aiohttp not found"
‚Üí `pip install aiohttp>=3.9.0`

## –°–æ–≤–µ—Ç—ã üí°

‚úÖ **–ë—É–¥—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã**: "–∫—Ä–∞—Å–Ω—ã–π —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å" –ª—É—á—à–µ "–º–∞—à–∏–Ω–∞"

‚úÖ **–£–∫–∞–∑—ã–≤–∞–π—Ç–µ —Å—Ç–∏–ª—å**: "–≤ —Å—Ç–∏–ª–µ –∞–∫–≤–∞—Ä–µ–ª–∏", "—Ñ–æ—Ç–æ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ"

‚úÖ **–î–æ–±–∞–≤—å—Ç–µ –¥–µ—Ç–∞–ª–∏**: –æ—Å–≤–µ—â–µ–Ω–∏–µ, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, —Ü–≤–µ—Ç–∞

‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—ã**: "–≤ —Å—Ç–∏–ª–µ –í–∞–Ω –ì–æ–≥–∞"

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ü§ù

–ù–∞—à–ª–∏ –ø—Ä–æ–±–ª–µ–º—É? –ï—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã?

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](docs/IMAGE_GENERATION.md)
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ [–ø—Ä–∏–º–µ—Ä—ã](examples/image_generation_examples.py)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [troubleshooting](IMAGE_GENERATION_DEMO.md#-troubleshooting)

## –õ–∏—Ü–µ–Ω–∑–∏—è üìÑ

–°–æ–≥–ª–∞—Å–Ω–æ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–∏—Ü–µ–Ω–∑–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

---

**–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø–æ—Ç—Ä—è—Å–∞—é—â–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –≤–∞—à–∏–º –ò–ò-–±–æ—Ç–æ–º! üöÄ**


